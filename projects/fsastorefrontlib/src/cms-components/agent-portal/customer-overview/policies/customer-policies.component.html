<ng-container *ngIf="policies$ | async as policies">
    <ng-container *ngIf="policiesLoaded$ | async; else loading">
        <fd-layout-grid [col]="6">
            <fd-panel fd-layout-grid-span [columnSpan]="4">
                <fd-panel-body>
                    <div fd-table-responsive-wrapper>
                        <table fd-table>
                            <thead fd-table-header>
                                <tr fd-table-row>
                                    <th fd-table-cell>Policy ID</th>
                                    <th fd-table-cell>Product</th>
                                    <th fd-table-cell>Policy End Date</th>
                                    <th fd-table-cell>Policy Start Date</th>
                                </tr>
                            </thead>
                            <tbody fd-table-body>
                                <tr *ngFor="let policy of policies.insurancePolicies" fd-table-row>
                                    <td fd-table-cell class="fd-has-font-weight-semi">{{policy.policyNumber}}</td>
                                    <td fd-table-cell>{{policy.categoryData.name}}</td>
                                    <td fd-table-cell>{{policy.endDate | cxDate: 'dd MMM yyyy'}}</td>
                                    <td fd-table-cell>{{policy.startDate | cxDate: 'dd MMM yyyy'}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </fd-panel-body>
            </fd-panel>
        </fd-layout-grid>
    </ng-container>
</ng-container>