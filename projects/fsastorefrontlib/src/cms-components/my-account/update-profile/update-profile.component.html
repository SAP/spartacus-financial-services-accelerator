<cx-spinner class="overlay" *ngIf="isUpdating$ | async"> </cx-spinner>

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="form-group row">
    <div class="col-md-12">
      <label>
        <span class="label-content">{{
          'updateProfileForm.title' | cxTranslate
        }}</span>
        <select formControlName="titleCode" class="form-control">
          <option value="">{{ 'updateProfileForm.none' | cxTranslate }}</option>
          <option *ngFor="let title of titles$ | async" [value]="title.code">
            {{ title.name }}
          </option>
        </select>
      </label>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-md-12">
      <label>
        <span class="label-content">{{
          'updateProfileForm.firstName.label' | cxTranslate
        }}</span>
        <input
          type="text"
          class="form-control"
          name="firstName"
          placeholder="{{
            'updateProfileForm.firstName.placeholder' | cxTranslate
          }}"
          formControlName="firstName"
        />
        <cx-form-errors [control]="form.get('firstName')"></cx-form-errors>
      </label>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-md-12">
      <label>
        <span class="label-content">{{
          'updateProfileForm.lastName.label' | cxTranslate
        }}</span>
        <input
          type="text"
          class="form-control"
          name="lastName"
          placeholder="{{
            'updateProfileForm.lastName.placeholder' | cxTranslate
          }}"
          formControlName="lastName"
        />
        <cx-form-errors [control]="form.get('lastName')"></cx-form-errors>
      </label>
    </div>
  </div>

  <div class="form-group row">
    <div class="col-md-12">
      <label>
        <span class="label-content">{{
          'forms.dateOfBirth.label' | cxTranslate
        }}</span>
        <input
          type="date"
          placeholder="{{ getDateFormat() }}"
          class="form-control"
          name="dateOfBirth"
          formControlName="dateOfBirth"
        />
        <cx-form-errors [control]="form.get('dateOfBirth')"></cx-form-errors>
      </label>
    </div>
  </div>

  <div class="form-group row" formGroupName="contactInfos">
    <div class="col-md-12">
      <label>
        <span class="label-content">{{
          'forms.phoneNumber.label' | cxTranslate
        }}</span>
        <input
          type="text"
          class="form-control"
          name="contactInfos"
          formControlName="phoneNumber"
        />
        <cx-form-errors [control]="form.get('contactInfos')"></cx-form-errors>
      </label>
    </div>
  </div>

  <div class="form-group row">
    <div class="col-lg-6 col-md-12">
      <button
        class="btn btn-block btn-secondary mb-3"
        type="button"
        (click)="onCancel()"
      >
        {{ 'common.cancel' | cxTranslate }}
      </button>
    </div>
    <div class="col-lg-6 col-md-12">
      <button
        class="btn btn-block btn-primary"
        type="submit"
        [disabled]="form.disabled"
      >
        {{ 'common.save' | cxTranslate }}
      </button>
    </div>
  </div>
</form>
