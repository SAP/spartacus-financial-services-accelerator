<ng-container *ngIf="tabs">
  <ul class="tabs-header d-none d-md-flex">
    <li
      class="tab"
      *ngFor="let tab of tabs; let i = index"
      (click)="activeTabIndex = i"
    >
      <fsa-inbox-tab [currentTab]="i === activeTabIndex" [tabId]="tab">
      </fsa-inbox-tab>
    </li>
  </ul>
</ng-container>
<div
  class="FSA-icon m-4"
  (click)="changeMessagesReadState()"
  [ngClass]="
    (readState | async) ? 'icon-FSA-envelope-open' : 'icon-FSA-envelope'
  "
></div>
<div class="section-header-heading p-4 position-relative container-fluid">
  <div class="row d-none d-md-flex">
    <div class="col-1">
      <label class="checkbox-label">
        <input
          type="checkbox"
          [checked]="inboxService.checkAllMessages | async"
          (click)="checkAllCheckboxes()"
        />
        <span class="checkbox-text FSA-icon icon-FSA-ok"></span>
      </label>
    </div>
    <div class="col-3">
      {{ 'fscommon.subject' | cxTranslate }}
      <span
        class="filter position-absolute FSA-icon icon-FSA-triangle-bottom"
        (click)="
          subjectSortOrder = subjectSortOrder === 'desc' ? 'asc' : 'desc';
          sortMessages('title', subjectSortOrder)
        "
        [ngClass]="subjectSortOrder === 'asc' ? 'rotate' : ''"
      >
      </span>
    </div>
    <div class="col-6">
      {{ 'fscommon.preview' | cxTranslate }}
      <span
        class="filter position-absolute FSA-icon icon-FSA-triangle-bottom"
        (click)="
          contentSortOrder = contentSortOrder === 'desc' ? 'asc' : 'desc';
          sortMessages('content', contentSortOrder)
        "
        [ngClass]="contentSortOrder === 'asc' ? 'rotate' : ''"
      ></span>
    </div>
    <div class="col-2">
      {{ 'fscommon.date' | cxTranslate }}
      <span
        class="filter position-absolute FSA-icon icon-FSA-triangle-bottom"
        (click)="
          sentSortOrder = sentSortOrder === 'desc' ? 'asc' : 'desc';
          sortMessages('sentdate', sentSortOrder)
        "
        [ngClass]="sentSortOrder === 'asc' ? 'rotate' : ''"
      ></span>
    </div>
  </div>
  <div class="mobile-heading row d-md-none">
    <div class="col-2">
      <label class="checkbox-label">
        <input
          type="checkbox"
          [checked]="inboxService.checkAllMessages | async"
        />
        <span class="checkbox-text FSA-icon icon-FSA-ok"></span>
      </label>
    </div>
    <div class="col-8 text-center" (click)="shouldShow = !shouldShow">
      {{ mobileGroupTitle }}
    </div>
    <div class="col-2">
      <span
        class="filter position-absolute FSA-icon icon-FSA-triangle-bottom"
      ></span>
    </div>
  </div>
  <div
    class="select d-md-none"
    [ngClass]="{ opened: shouldShow, '': !shouldShow }"
  >
    <ul>
      <li
        class="tab"
        *ngFor="let tab of tabs; let i = index"
        (click)="activeTabIndex = i; shouldShow = false"
      >
        <fsa-inbox-tab [currentTab]="i === activeTabIndex" [tabId]="tab">
        </fsa-inbox-tab>
      </li>
    </ul>
  </div>
</div>
<ng-container *ngIf="initialGroupName">
  <fsa-messages-inbox [initialGroup]="initialGroupName"></fsa-messages-inbox>
</ng-container>
