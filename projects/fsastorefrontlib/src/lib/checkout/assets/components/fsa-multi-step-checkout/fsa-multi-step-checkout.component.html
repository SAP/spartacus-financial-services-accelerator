<div class="cx-page">
  <ng-container *ngIf="(cart$ | async) as cart">
    <div class="cx-multi-step-checkout center1400 contentPadding">
      <div class="row">
        <div class="col-12">
          <!-- Navigation -->
          <div class="cx-multi-step-checkout__nav d-none d-lg-block d-xl-block my-5">
              <ul class="cx-multi-step-checkout__nav-list">
                <li *ngFor="let nav of navs" class="cx-multi-step-checkout__nav-item" [ngClass]="{
                                ' is-disabled': nav.status.disabled,
                                ' progressbar': nav.progressBar}">
                  <a class=" cx-multi-step-checkout__nav-link " [ngClass]="{
                                  ' is-disabled': nav.status.disabled,
                                  ' is-active': nav.status.active}" 
                                  (click)="nav.status.disabled === false ? setStep(nav.id) : false">
                                  {{ nav.label }}</a>
                </li>
              </ul>
            </div>
        </div>
        <div class="col-12 col-md-8">
          <!-- VISIBLE ONLY ON LG AND XL SCREENS -->
          
          <div class="cx-multi-step-checkout__nav--media">
            <div *ngFor="let nav of navs">
              <!-- Navigation -->
              <div
                class="cx-multi-step-checkout__nav-list--media"
                [ngClass]="{ ' is-active': nav.status.active }">
                <div>{{ nav.label }}</div>
                <button
                  *ngIf="nav.status.completed && !nav.status.active"
                  class="btn btn-link"
                  (click)="setStep(nav.id)">
                </button>
              </div>
              <!--  CONTENT -->
              <div *ngIf="nav.status.active && step === 2">
                <div class="center1400 pr-2 pl-2">
                  <cx-dynamic-slot position="Section1"></cx-dynamic-slot>
                  <cx-dynamic-slot position="Section2"></cx-dynamic-slot>
                </div>
              </div>
              <div *ngIf="nav.status.active && step === 3">
                <fsa-add-options (nextStep)="setStep(5)">
                </fsa-add-options>
              </div>
              <div *ngIf="nav.status.active && step === 5">
                <fsa-quote-review (nextStep)="setStep(6)" (backStep)="setStep(3)"> </fsa-quote-review>
              </div>
              <div *ngIf="nav.status.active && step === 6">
                <fsa-payment-details
                  [selectedPayment]="paymentDetails"
                  (addPaymentInfo)="addPaymentInfo($event)"
                  (backStep)="setStep(5)"
                ></fsa-payment-details>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-4 ">
          <fsa-mini-cart></fsa-mini-cart>
        </div>
      </div>
    </div>
  </ng-container>
</div>

