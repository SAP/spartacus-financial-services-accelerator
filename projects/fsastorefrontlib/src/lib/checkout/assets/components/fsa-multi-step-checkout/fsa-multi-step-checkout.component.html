<div class="cx-page">
  <ng-container *ngIf="(cart$ | async) as cart">
    <div class="cx-multi-step-checkout center1400 contentPadding">
      <div class="row">
        <div class="col-12">
          <!-- Navigation -->
          <h2 class="py-4 text-center text-uppercase">
            {{ 'fscommon.your' | cxTranslate }} {{ 'fscommon.' + currentCategory | cxTranslate}} {{'fscommon.insurance'| cxTranslate }}
          </h2>
          <div class="progress-wrapper my-2">
              <div class="d-flex flex-wrap my-4">
                <div class="progress-inner-wrapper flex-grow-1 flex-shrink-1 text-center" 
                  *ngFor="let nav of navs">
                  <div class="d-inline-block underline-effect progress-node mx-2" 
                        (click)="nav.status.disabled === false ? setStep(nav.id) : false"
                        [ngClass]="{
                          ' is-disabled': nav.status.disabled,
                          ' is-active': nav.status.active}" > 
                    <div class="FSA-icon" [ngClass]="
                      nav.status.completed ? 'icon-FSA-ok' : nav.icon"></div>
                    <p class="label  position-relative mb-2">{{ nav.label }}</p>
                  </div>
                </div>
              </div>  
            </div>
        </div>
        <div [ngClass]="step !== 2 ? 'col-12 col-md-8' : 'col-12'">
          <!-- VISIBLE ONLY ON LG AND XL SCREENS -->
          <div class="cx-multi-step-checkout__nav--media">
            <div *ngFor="let nav of navs">
              <!--  CONTENT -->
              <div *ngIf="nav.status.active && step === 2">
                <div class="center1400 pr-2 pl-2">
                  <cx-page-slot position="Section1"></cx-page-slot>
                  <cx-page-slot position="Section2"></cx-page-slot>
                </div>
              </div>
              <div *ngIf="nav.status.active && step === 3">
                <fsa-add-options (nextStep)="setStep(5)">
                </fsa-add-options>
              </div>
              <div *ngIf="nav.status.active && step === 5">
                <fsa-quote-review (nextStep)="setStep(6)" (backStep)="setStep(3)"> </fsa-quote-review>
              </div>
              <div *ngIf="nav.status.active && step === 6">
                <fsa-payment-details
                  [selectedPayment]="paymentDetails"
                  (addPaymentInfo)="addPaymentInfo($event)"
                  (backStep)="setStep(5)"
                ></fsa-payment-details>
              </div>
              <div *ngIf="nav.status.active && step === 7">
                <fsa-final-review
                  (goToQuoteReview)="setStep(5)"
                  [paymentDetails]="paymentDetails"
                ></fsa-final-review>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-4 ">
          <div *ngIf="step !== 2">
            <fsa-mini-cart></fsa-mini-cart>
              <ng-container *ngIf="step !== 7">
                <div class="link-wrapper">
                  <a href="#">{{ 'fscommon.modifyPlan' | cxTranslate }}</a>
                </div>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</div>

